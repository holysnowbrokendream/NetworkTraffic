# ğŸŒ NetworkTraffic å†…ç½‘éƒ¨ç½²æŒ‡å—

## ğŸ¯ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°† NetworkTraffic ç½‘ç»œæµé‡åˆ†æç³»ç»Ÿéƒ¨ç½²åˆ°å†…ç½‘ç¯å¢ƒï¼Œä½¿åŒä¸€å±€åŸŸç½‘å†…çš„å…¶ä»–è®¾å¤‡èƒ½å¤Ÿé€šè¿‡ç½‘ç»œè®¿é—®æ‚¨çš„åº”ç”¨ã€‚

### ğŸŒ éƒ¨ç½²æ¶æ„

```
å†…ç½‘è®¾å¤‡ A â”€â”€â”
å†…ç½‘è®¾å¤‡ B â”€â”€â”¼â”€â”€ è·¯ç”±å™¨/äº¤æ¢æœº â”€â”€ éƒ¨ç½²æœåŠ¡å™¨
å†…ç½‘è®¾å¤‡ C â”€â”€â”˜                    â”‚
                                 â”œâ”€â”€ å‰ç«¯ (23456ç«¯å£)
                                 â”œâ”€â”€ åç«¯ (8000ç«¯å£)
                                 â””â”€â”€ æ•°æ®åº“ (3307ç«¯å£)
```

### ğŸ“Š è®¿é—®åœ°å€

- **å‰ç«¯åº”ç”¨**: `http://[æœåŠ¡å™¨IP]:23456`
- **åç«¯API**: `http://[æœåŠ¡å™¨IP]:8000`
- **ç®¡ç†ç•Œé¢**: `http://[æœåŠ¡å™¨IP]:8000/admin/`

---

## ğŸŒ ç½‘ç»œé…ç½®

### 1. è·å–æœåŠ¡å™¨IPåœ°å€

#### Windows ç³»ç»Ÿ
```cmd
ipconfig
```
æŸ¥æ‰¾ "IPv4 åœ°å€" å­—æ®µï¼Œé€šå¸¸æ ¼å¼ä¸º `192.168.x.x` æˆ– `10.x.x.x`

#### Linux/macOS ç³»ç»Ÿ
```bash
ifconfig
# æˆ–
ip addr show
```

### 2. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§

ç¡®ä¿å†…ç½‘è®¾å¤‡èƒ½å¤Ÿè®¿é—®æœåŠ¡å™¨ï¼š

```bash
# ä»å…¶ä»–è®¾å¤‡pingæœåŠ¡å™¨
ping [æœåŠ¡å™¨IPåœ°å€]

# æ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾
# Windows:
telnet [æœåŠ¡å™¨IPåœ°å€] 8000
telnet [æœåŠ¡å™¨IPåœ°å€] 23456
# Linux:
nc -zv [æœåŠ¡å™¨IPåœ°å€] 8000
nc -zv [æœåŠ¡å™¨IPåœ°å€] 23456
```

---

## ğŸ”’ é˜²ç«å¢™é…ç½®

### Windows ç³»ç»Ÿ

#### ä½¿ç”¨é…ç½®è„šæœ¬

```bash
# è¿›å…¥HTTPç›®å½•
cd HTTP

# è¿è¡Œç½‘ç»œé…ç½®è„šæœ¬
configure_firewall.bat
```

**è„šæœ¬åŠŸèƒ½**:
- è„šæœ¬ä¼šè‡ªåŠ¨é…ç½®ä»¥ä¸‹ç«¯å£ï¼š
- 8000: åç«¯APIæœåŠ¡
- 23456: å‰ç«¯WebæœåŠ¡
- 3307: æ•°æ®åº“æœåŠ¡

### Linux ç³»ç»Ÿ

#### ä½¿ç”¨é…ç½®è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥HTTPç›®å½•
cd HTTP

# ä»¥rootæƒé™è¿è¡Œé˜²ç«å¢™é…ç½®è„šæœ¬
sudo ./configure_firewall.sh
```

**è„šæœ¬åŠŸèƒ½**:
- è‡ªåŠ¨æ£€æµ‹ Linux å‘è¡Œç‰ˆ (CentOS/RHEL æˆ– Ubuntu)
- é…ç½® firewalld (CentOS/RHEL) æˆ– ufw (Ubuntu)
- å¼€æ”¾å¿…è¦ç«¯å£ (8000, 23456, 3307)
- é…ç½® iptables è§„åˆ™

#### æ‰‹åŠ¨é…ç½®

- **CentOS/RHEL (firewalld):**
  ```bash
  sudo firewall-cmd --permanent --add-port=8000/tcp
  sudo firewall-cmd --permanent --add-port=23456/tcp
  sudo firewall-cmd --permanent --add-port=3307/tcp
  sudo firewall-cmd --reload
  ```
- **Ubuntu (ufw):**
  ```bash
  sudo ufw allow 8000/tcp
  sudo ufw allow 23456/tcp
  sudo ufw allow 3307/tcp
  sudo ufw enable
  ```
- **é€šç”¨ï¼ˆiptablesï¼‰:**
  ```bash
  sudo iptables -A INPUT -p tcp --dport 8000 -j ACCEPT
  sudo iptables -A INPUT -p tcp --dport 23456 -j ACCEPT
  sudo iptables -A INPUT -p tcp --dport 3307 -j ACCEPT
  ```

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: é…ç½®ç½‘ç»œè®¿é—®

#### Windows
```bash
cd HTTP
configure_network_access.bat
```
#### Linux
```bash
cd HTTP
./configure_network_access.sh
```

**è„šæœ¬åŠŸèƒ½**:
- è‡ªåŠ¨æ£€æµ‹æœ¬æœºIPåœ°å€
- æ›´æ–°Djangoè®¾ç½®æ–‡ä»¶
- æ›´æ–°ç¯å¢ƒå˜é‡é…ç½®
- æ˜¾ç¤ºç½‘ç»œè®¿é—®ä¿¡æ¯

## ğŸ§ª è®¿é—®æµ‹è¯•

### 1. æœ¬åœ°æµ‹è¯•

åœ¨éƒ¨ç½²æœåŠ¡å™¨ä¸Šæµ‹è¯•ï¼š

```bash
# æµ‹è¯•å‰ç«¯
curl http://localhost:23456

# æµ‹è¯•åç«¯
curl http://localhost:8000/api/health/

# æµ‹è¯•ç®¡ç†ç•Œé¢
curl http://localhost:8000/admin/
```

### 2. å†…ç½‘æµ‹è¯•

ä»å†…ç½‘å…¶ä»–è®¾å¤‡æµ‹è¯•ï¼š

```bash
# æ›¿æ¢ [æœåŠ¡å™¨IP] ä¸ºå®é™…IPåœ°å€
curl http://[æœåŠ¡å™¨IP]:23456
curl http://[æœåŠ¡å™¨IP]:8000/api/health/
```

### 3. æµè§ˆå™¨æµ‹è¯•

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

- **å‰ç«¯åº”ç”¨**: `http://[æœåŠ¡å™¨IP]:23456`
- **åç«¯API**: `http://[æœåŠ¡å™¨IP]:8000`
- **ç®¡ç†ç•Œé¢**: `http://[æœåŠ¡å™¨IP]:8000/admin/`

### 4. æµ‹è¯•è´¦æˆ·

- **ç®¡ç†å‘˜**: `admin` / `123456`
- **æµ‹è¯•ç”¨æˆ·**: `yang` / `123456`

---

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. æ— æ³•è®¿é—®å‰ç«¯é¡µé¢

**ç—‡çŠ¶**: æµè§ˆå™¨æ˜¾ç¤º "æ— æ³•è®¿é—®æ­¤ç½‘ç«™"

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥å‰ç«¯å®¹å™¨çŠ¶æ€
# Windows/Linux é€šç”¨
docker-compose -f docker-compose.production.yml ps frontend

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
docker-compose -f docker-compose.production.yml logs frontend

# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
# Windows:
netstat -ano | findstr :23456
# Linux:
sudo netstat -tulpn | grep :23456
```

#### 2. å‰ç«¯æ— æ³•è¿æ¥åç«¯API

**ç—‡çŠ¶**: å‰ç«¯é¡µé¢æ˜¾ç¤º "è¿æ¥é”™è¯¯" æˆ– "APIä¸å¯ç”¨"

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥åç«¯å®¹å™¨çŠ¶æ€
docker-compose -f docker-compose.production.yml ps backend

# æŸ¥çœ‹åç«¯æ—¥å¿—
docker-compose -f docker-compose.production.yml logs backend

# æµ‹è¯•åç«¯API
curl http://[æœåŠ¡å™¨IP]:8000/api/health/
```

#### 3. æ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶**: åç«¯æ—¥å¿—æ˜¾ç¤º "MySQL connection failed"

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥MySQLå®¹å™¨çŠ¶æ€
docker-compose -f docker-compose.production.yml ps mysql

# æŸ¥çœ‹MySQLæ—¥å¿—
docker-compose -f docker-compose.production.yml logs mysql

# é‡å¯MySQLæœåŠ¡
docker-compose -f docker-compose.production.yml restart mysql
```

#### 4. é˜²ç«å¢™é˜»æ­¢è®¿é—®

**ç—‡çŠ¶**: å†…ç½‘è®¾å¤‡æ— æ³•è®¿é—®æœåŠ¡å™¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# Windowsç³»ç»Ÿ - æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
netsh advfirewall firewall show rule name="NetworkTraffic*"

# Linuxç³»ç»Ÿ - æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
sudo firewall-cmd --list-ports   # CentOS/RHEL
sudo ufw status                  # Ubuntu
sudo iptables -L                 # é€šç”¨

# é‡æ–°é…ç½®é˜²ç«å¢™
# Windows:
configure_firewall.bat
# Linux:
sudo ./configure_firewall.sh
```

#### 5. ç«¯å£è¢«å ç”¨

**ç—‡çŠ¶**: å¯åŠ¨æœåŠ¡æ—¶æ˜¾ç¤º "port is already allocated"

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
# Windows:
netstat -ano | findstr :8000
netstat -ano | findstr :23456
# Linux:
sudo netstat -tulpn | grep :8000
sudo netstat -tulpn | grep :23456

# åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
# Windows:
taskkill /PID <è¿›ç¨‹ID> /F
# Linux:
sudo kill -9 <è¿›ç¨‹ID>

# é‡æ–°å¯åŠ¨æœåŠ¡
# Windows:
start-services.bat
# Linux:
./start-services.sh
```

### æ—¥å¿—åˆ†æ

#### æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
```bash
docker-compose -f docker-compose.production.yml logs -f
```

#### æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
```bash
# å‰ç«¯æ—¥å¿—
docker-compose -f docker-compose.production.yml logs -f frontend

# åç«¯æ—¥å¿—
docker-compose -f docker-compose.production.yml logs -f backend

# æ•°æ®åº“æ—¥å¿—
docker-compose -f docker-compose.production.yml logs -f mysql
```

#### æŸ¥çœ‹å®¹å™¨çŠ¶æ€
```bash
docker-compose -f docker-compose.production.yml ps
```

---


